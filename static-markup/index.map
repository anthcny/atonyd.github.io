{"version":3,"sources":["../../../node_modules/autosize/dist/autosize.js","main.js","index.js"],"names":["btnLoginSubmit","document","querySelector","addEventListener","e","preventDefault","actionsDiv","classList","toggle","href","btnBackToLogin","getElementById","inputMsg","chatInputArea","msgArea","adjustSizeInput","clientHeight","style","height","autosize","update","keyCode"],"mappings":"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","file":"index.map","sourceRoot":"../src/client/js","sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","import autosize from 'autosize';\n\nexport default () => {\n\t\n\tconst btnLoginSubmit = document.querySelector('#login-submit');\n\n\tbtnLoginSubmit && btnLoginSubmit.addEventListener('click', function (e) {\n\t\te.preventDefault();\n\t\tconst actionsDiv = document.querySelector('.actions')\n\t\tactionsDiv && actionsDiv.classList.toggle('acted');\n\t\tsetTimeout(function () {\n\t\t\tlocation.href = '/chat.html'\n\t\t}, 500);\n\t});\n\n\tconst btnBackToLogin = document.getElementById('btn_back_to_login');\n\tbtnBackToLogin && btnBackToLogin.addEventListener('click', function (e) {\n\t\tlocation.href = '/login.html'\n\t});\n\n\tconst inputMsg = document.getElementById('message_input'),\n\t\t\t\tchatInputArea = document.querySelector('.chat__input'),\n\t\t\t\tmsgArea = chatInputArea && chatInputArea.querySelector('.chat__input-msg');\n\t\n\tfunction adjustSizeInput() {\n\t\tif (!inputMsg\n\t\t\t&& !chatInputArea\n\t\t\t&& !msgArea)\n\t\t\treturn;\n\n\t\tif (inputMsg.clientHeight > chatInputArea.clientHeight) {\n\t\t\tmsgArea.style.height = `${chatInputArea.clientHeight}px`;\n\t\t} else {\n\t\t\tmsgArea.style.height = `auto`;\n\t\t}\n\t\tinputMsg && autosize.update(inputMsg);\n\t}\n\n\tinputMsg && autosize(inputMsg);\n\tinputMsg && inputMsg.addEventListener('autosize:resized', adjustSizeInput);\n\twindow.addEventListener('keyup', function (e) {\n\t\tswitch(e.keyCode)\n\t\t{\n\t\t\t\tcase 8: //backspace\n\t\t\t\tcase 46: //delete\n\t\t\t\t\tadjustSizeInput();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t}\n\t})\n}","import main from './main';\n\ndocument.addEventListener('DOMContentLoaded', function (e) {\n\tmain();\n});"]}